# YouTube 视频分析系统 - 中文使用说明

## 简介

这是一个帮助你分析 YouTube 频道视频风格的工具。它可以自动下载视频信息、提取字幕、分析内容,最后生成一份详细的分析报告,帮助你了解和学习优秀频道的创作风格。

## 能做什么?

1. **自动获取视频**: 输入频道链接,自动获取所有视频信息
2. **提取字幕**: 自动下载字幕,如果没有字幕就用 AI 识别音频
3. **智能分析**: 用 AI 分析视频的类型、主题、风格特点
4. **生成报告**: 生成易读的 Markdown 文档,包含详细分析
5. **学习模仿**: 提供具体的学习建议,帮助你模仿成功频道

## 快速开始(3 步)

### 第 1 步: 安装

```bash
# 进入项目文件夹
cd youtube_an

# 运行安装脚本
bash setup.sh
```

按照提示完成安装即可。

### 第 2 步: 配置(可选)

如果你想使用 AI 深度分析(更准确),需要配置 OpenAI API 密钥:

```bash
# 创建配置文件
cp env.example .env

# 编辑文件,填入你的 API 密钥
# OPENAI_API_KEY=你的密钥
```

如果不配置,程序会使用简单的关键词分析,虽然不够深入但仍然有用。

### 第 3 步: 运行

```bash
# 分析一个频道
python main.py -c "频道链接"

# 例如:
python main.py -c "https://www.youtube.com/@channel_name"
```

## 详细使用方法

### 基础用法

```bash
# 最简单的用法
python main.py -c "频道链接"
```

### 常用选项

```bash
# 只分析最新的 10 个视频(节省时间)
# 先修改 config.yaml 中的 max_videos: 10
python main.py -c "频道链接"

# 不使用缓存,重新下载所有数据
python main.py -c "频道链接" --no-cache

# 查看详细运行信息
python main.py -c "频道链接" --log-level DEBUG

# 查看帮助
python main.py --help
```

### 配置文件说明

打开 `config.yaml` 可以调整各种设置:

```yaml
# 限制分析的视频数量
youtube:
  max_videos: 20  # 改成你想要的数量,0 表示不限制

# 音频转文字的设置
whisper:
  model: "base"  # 可选: tiny(最快), base(推荐), small, medium, large
  language: "zh"  # 语言: zh(中文), en(英文), auto(自动)

# AI 分析设置
analysis:
  use_ai: true  # 是否使用 AI(false 则用关键词分析,免费但效果差)
```

## 结果在哪里?

运行完成后,结果保存在 `output/频道名称/` 文件夹:

```
output/
└── 频道名称/
    ├── summary.md           # 频道风格总结(最重要)
    ├── learning_guide.md    # 学习指南(告诉你怎么模仿)
    ├── statistics.md        # 统计数据
    ├── wordcloud.png        # 关键词词云图
    └── videos/              # 每个视频的详细分析
```

### 重点文件

1. **summary.md** - 看这个了解频道整体风格
2. **learning_guide.md** - 看这个学习如何模仿
3. **wordcloud.png** - 一眼看出频道关注什么

## 实际例子

### 例子 1: 分析美食频道

```bash
# 1. 限制视频数量(节省时间)
# 编辑 config.yaml: max_videos: 15

# 2. 运行分析
python main.py -c "https://www.youtube.com/@美食频道"

# 3. 等待完成(约 5-10 分钟)

# 4. 查看结果
cat output/美食频道/summary.md
```

你会看到:
- 频道主要做什么类型的美食
- 常用的标题格式
- 语言风格特点
- 高频主题词

### 例子 2: 快速测试

```bash
# 只分析 5 个视频,快速测试
# 修改 config.yaml: max_videos: 5

python main.py -c "频道链接"
```

### 例子 3: 深度分析

```bash
# 1. 配置 OpenAI API 密钥
echo "OPENAI_API_KEY=sk-your-key" > .env

# 2. 使用更大的 Whisper 模型
# 编辑 config.yaml: 
#   whisper:
#     model: "small"

# 3. 运行
python main.py -c "频道链接"
```

## 常见问题

### Q: 需要花钱吗?

A: 
- **完全免费**: 不配置 API 密钥,使用关键词分析
- **少量费用**: 配置 OpenAI API,大约 20 个视频花费 $0.05-0.10

### Q: 需要多长时间?

A:
- 有字幕的视频: 很快,每个几秒
- 需要转录的视频: 较慢,每个 1-3 分钟
- 20 个有字幕的视频: 约 5-10 分钟

### Q: 出错了怎么办?

A:
```bash
# 1. 查看错误日志
cat logs/youtube_analyzer.log

# 2. 运行环境检查
python test_setup.py

# 3. 查看详细信息
python main.py -c "频道链接" --log-level DEBUG
```

### Q: 频道链接在哪里找?

A: 打开 YouTube 频道页面,复制浏览器地址栏的链接。

支持的格式:
- `https://www.youtube.com/@频道名`
- `https://www.youtube.com/c/频道名`
- `https://www.youtube.com/channel/UC...`

### Q: 可以分析自己的视频吗?

A: 当然可以!输入你自己频道的链接即可。

### Q: 如何获取 OpenAI API 密钥?

A:
1. 访问 https://platform.openai.com
2. 注册账号并登录
3. 点击 "API Keys"
4. 创建新密钥
5. 复制密钥,粘贴到 `.env` 文件

新用户通常有免费额度,足够分析上百个视频。

## 使用技巧

### 技巧 1: 先测试小样本

第一次使用时,建议只分析 5-10 个视频,确保一切正常。

```yaml
# config.yaml
youtube:
  max_videos: 5
```

### 技巧 2: 节省 API 费用

使用 `gpt-3.5-turbo` 而不是 `gpt-4`:

```yaml
# config.yaml
api:
  openai:
    model: "gpt-3.5-turbo"  # 便宜 10 倍
```

### 技巧 3: 加速处理

如果视频都有字幕,处理会很快。可以检查一下再决定分析多少个。

### 技巧 4: 批量分析

创建一个脚本分析多个频道:

```bash
# analyze_all.sh
#!/bin/bash
python main.py -c "频道1链接"
python main.py -c "频道2链接"
python main.py -c "频道3链接"
```

### 技巧 5: 定期更新

分析完后过几个月再分析一次,看看频道风格有什么变化。

## 故障排除

### 问题: 提示缺少模块

```bash
# 解决: 安装依赖
pip install -r requirements.txt
```

### 问题: ffmpeg not found

```bash
# macOS 解决:
brew install ffmpeg

# Ubuntu 解决:
sudo apt-get install ffmpeg
```

### 问题: API 调用失败

检查:
1. API 密钥是否正确
2. 账户是否有余额
3. 网络连接是否正常

```bash
# 或者使用免费模式
# config.yaml: analysis.use_ai: false
```

### 问题: 内存不足

```yaml
# config.yaml
whisper:
  model: "tiny"  # 使用最小模型

youtube:
  max_videos: 10  # 减少视频数量
```

## 看懂分析结果

### summary.md 包含什么?

- **基本信息**: 分析了多少视频
- **视频类型**: 主要做什么类型的内容
- **风格特点**: 语言风格(幽默/专业/口语化等)
- **高频主题**: 经常讨论什么话题
- **标题特征**: 标题的常见模式
- **吸引技巧**: 如何吸引观众

### learning_guide.md 如何使用?

这个文件告诉你:
1. 这个频道的核心特征是什么
2. 应该如何定位自己的内容
3. 标题应该怎么写
4. 有哪些吸引观众的技巧可以学习

**实用!** 这是最实用的文件,建议仔细阅读。

### 词云图怎么看?

打开 `wordcloud.png`,字越大说明这个主题在频道中越重要。

## 进阶使用

### 对比分析

分析多个同类频道,对比它们的风格:

```bash
python main.py -c "频道A"
python main.py -c "频道B"
python main.py -c "频道C"

# 然后对比 output 下三个文件夹的结果
```

### 导出数据

如果需要 JSON 格式的原始数据,可以从缓存中获取:

```bash
# 数据保存在这里
ls data/cache/
```

### 自定义分析

如果你懂 Python,可以修改模块代码,添加自己的分析逻辑:

- `modules/content_analyzer.py` - 修改分析方式
- `modules/style_summarizer.py` - 修改总结逻辑
- `modules/knowledge_base_generator.py` - 修改输出格式

## 最佳实践

1. **明确目标**: 知道自己想学习什么(标题?内容?风格?)
2. **选对频道**: 选择和自己定位相似的成功频道
3. **深入分析**: 不只看总结,也看具体视频的分析
4. **实际应用**: 学习后实际尝试,看效果
5. **定期复盘**: 过一段时间再分析,看趋势变化

## 小贴士

- 💡 首次使用建议先看 QUICKSTART.md
- 💡 API 密钥可以在 OpenAI 网站免费获取(有额度)
- 💡 大部分 YouTube 视频都有字幕,处理很快
- 💡 分析结果是 Markdown 格式,可以用任何文本编辑器打开
- 💡 如果分析失败,查看 logs/youtube_analyzer.log
- 💡 可以重复分析同一个频道,系统会使用缓存加速

## 获取帮助

1. 查看完整文档: `README.md`
2. 查看使用例子: `example_usage.md`
3. 运行环境检查: `python test_setup.py`
4. 查看日志文件: `logs/youtube_analyzer.log`

## 开始使用

```bash
# 现在就开始!
python main.py -c "https://www.youtube.com/@你喜欢的频道"
```

祝你使用愉快,希望这个工具能帮助你创作出更好的内容! 🎉

