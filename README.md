# YouTube è§†é¢‘åˆ†æç³»ç»Ÿ

ä¸€ä¸ªå¼ºå¤§çš„ YouTube é¢‘é“å†…å®¹åˆ†æå·¥å…·,å¯ä»¥è‡ªåŠ¨åˆ†æé¢‘é“çš„æ‰€æœ‰è§†é¢‘,æå–æ ‡é¢˜ã€å­—å¹•(æˆ–é€šè¿‡ AI è½¬å½•éŸ³é¢‘),ä½¿ç”¨ AI åˆ†æè§†é¢‘ç±»å‹å’Œé£æ ¼ç‰¹å¾,æœ€ç»ˆç”Ÿæˆç»“æ„åŒ–çš„ Markdown çŸ¥è¯†åº“,å¸®åŠ©ä½ å­¦ä¹ å’Œæ¨¡ä»¿ä¼˜ç§€é¢‘é“çš„åˆ›ä½œé£æ ¼ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ¬ **è‡ªåŠ¨è·å–è§†é¢‘æ•°æ®**: ä½¿ç”¨ yt-dlp è·å–é¢‘é“æ‰€æœ‰è§†é¢‘çš„å…ƒæ•°æ®ã€æ ‡é¢˜ã€æè¿°ã€å­—å¹•ç­‰
- ğŸ¤ **æ™ºèƒ½éŸ³é¢‘è½¬å½•**: å¯¹æ²¡æœ‰å­—å¹•çš„è§†é¢‘,ä½¿ç”¨ Whisper AI è‡ªåŠ¨å°†éŸ³é¢‘è½¬ä¸ºæ–‡å­—
- ğŸ¤– **AI å†…å®¹åˆ†æ**: ä½¿ç”¨ GPT ç­‰ AI æ¨¡å‹æ·±åº¦åˆ†æè§†é¢‘å†…å®¹,è¯†åˆ«ç±»å‹ã€ä¸»é¢˜ã€é£æ ¼ç‰¹å¾
- ğŸ“Š **é£æ ¼æ€»ç»“**: æ±‡æ€»æ‰€æœ‰è§†é¢‘çš„åˆ†æç»“æœ,æå–é¢‘é“çš„æ•´ä½“é£æ ¼ç‰¹å¾
- ğŸ“š **çŸ¥è¯†åº“ç”Ÿæˆ**: ç”Ÿæˆè¯¦ç»†çš„ Markdown æ–‡æ¡£,åŒ…æ‹¬:
  - é¢‘é“é£æ ¼æ€»ç»“
  - è¯¦ç»†ç»Ÿè®¡æ•°æ®
  - å­¦ä¹ ä¸æ¨¡ä»¿æŒ‡å—
  - æ¯ä¸ªè§†é¢‘çš„è¯¦ç»†åˆ†æ
  - å…³é”®è¯è¯äº‘å›¾

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- (å¯é€‰) GPU åŠ é€Ÿ Whisper è½¬å½•

### 2. å®‰è£…ä¾èµ–

```bash
# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
cd youtube_an

# å®‰è£…ä¾èµ–åŒ…
pip install -r requirements.txt
```

### 3. é…ç½®

#### æ–¹å¼ä¸€: ä½¿ç”¨ç¯å¢ƒå˜é‡(æ¨è)

å¤åˆ¶ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶:

```bash
cp env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶,å¡«å…¥ä½ çš„ API å¯†é’¥:

```bash
# OpenAI API å¯†é’¥(ç”¨äº AI å†…å®¹åˆ†æ)
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API å¯†é’¥(å¯é€‰,ä½œä¸ºå¤‡é€‰)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
```

#### æ–¹å¼äºŒ: ä¿®æ”¹é…ç½®æ–‡ä»¶

ç¼–è¾‘ `config.yaml` æ–‡ä»¶,åœ¨å¯¹åº”ä½ç½®å¡«å…¥ API å¯†é’¥:

```yaml
api:
  openai:
    api_key: "your_openai_api_key_here"
```

#### é…ç½®è¯´æ˜

`config.yaml` æ–‡ä»¶åŒ…å«æ‰€æœ‰å¯é…ç½®é€‰é¡¹:

- **Whisper æ¨¡å‹**: å¯é€‰æ‹© `tiny`, `base`, `small`, `medium`, `large`
  - `base`: æ¨è,é€Ÿåº¦å¿«ä¸”å‡†ç¡®åº¦ä¸­ç­‰
  - `small`: æ›´å‡†ç¡®ä½†ç¨æ…¢
  
- **AI åˆ†æ**: å¯ä»¥é€‰æ‹©ä½¿ç”¨ OpenAI GPT æˆ– Anthropic Claude
  - å¦‚æœä¸é…ç½® API å¯†é’¥,ç³»ç»Ÿä¼šè‡ªåŠ¨é™çº§ä¸ºå…³é”®è¯åˆ†æ
  
- **è§†é¢‘æ•°é‡é™åˆ¶**: å¯ä»¥é™åˆ¶åˆ†æçš„è§†é¢‘æ•°é‡(èŠ‚çœæ—¶é—´å’Œ API è´¹ç”¨)

### 4. è¿è¡Œ

```bash
# åŸºæœ¬ç”¨æ³•
python main.py --channel "https://www.youtube.com/@channel_name"

# æˆ–ä½¿ç”¨çŸ­é€‰é¡¹
python main.py -c "https://www.youtube.com/@channel_name"

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
python main.py -c "é¢‘é“URL" --config custom_config.yaml

# å¯ç”¨è°ƒè¯•æ—¥å¿—
python main.py -c "é¢‘é“URL" --log-level DEBUG

# ä¸ä½¿ç”¨ç¼“å­˜,é‡æ–°è·å–æ‰€æœ‰æ•°æ®
python main.py -c "é¢‘é“URL" --no-cache
```

### 5. æŸ¥çœ‹ç»“æœ

è¿è¡Œå®Œæˆå,ä¼šåœ¨ `output/[é¢‘é“åç§°]/` ç›®å½•ä¸‹ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶:

- `summary.md` - é¢‘é“é£æ ¼æ€»ç»“
- `statistics.md` - è¯¦ç»†ç»Ÿè®¡æ•°æ®
- `learning_guide.md` - å­¦ä¹ ä¸æ¨¡ä»¿æŒ‡å—
- `videos/` - æ¯ä¸ªè§†é¢‘çš„è¯¦ç»†åˆ†æ
- `wordcloud.png` - å…³é”®è¯è¯äº‘å›¾

## ğŸ“– ä½¿ç”¨è¯´æ˜

### æ”¯æŒçš„ YouTube URL æ ¼å¼

- `https://www.youtube.com/@channel_name`
- `https://www.youtube.com/c/ChannelName`
- `https://www.youtube.com/channel/UCxxxxxxxxxxxxx`
- `https://www.youtube.com/user/username`

### å·¥ä½œæµç¨‹

1. **è·å–è§†é¢‘åˆ—è¡¨**: ä» YouTube é¢‘é“è·å–è§†é¢‘åˆ—è¡¨
2. **ä¸‹è½½å…ƒæ•°æ®å’Œå­—å¹•**: 
   - ä¼˜å…ˆä¸‹è½½äººå·¥æ·»åŠ çš„å­—å¹•
   - å¦‚æœæ²¡æœ‰,ä¸‹è½½è‡ªåŠ¨ç”Ÿæˆçš„å­—å¹•
   - å¦‚æœéƒ½æ²¡æœ‰,ä¸‹è½½éŸ³é¢‘å‡†å¤‡è½¬å½•
3. **éŸ³é¢‘è½¬å½•**: ä½¿ç”¨ Whisper å°†éŸ³é¢‘è½¬ä¸ºæ–‡å­—
4. **å†…å®¹åˆ†æ**: ä½¿ç”¨ AI åˆ†ææ¯ä¸ªè§†é¢‘çš„å†…å®¹å’Œé£æ ¼
5. **é£æ ¼æ€»ç»“**: æ±‡æ€»æ‰€æœ‰åˆ†æç»“æœ,æå–æ•´ä½“ç‰¹å¾
6. **ç”ŸæˆçŸ¥è¯†åº“**: ç”Ÿæˆ Markdown æ ¼å¼çš„åˆ†ææŠ¥å‘Š

### ç¼“å­˜æœºåˆ¶

ç³»ç»Ÿä¼šè‡ªåŠ¨ç¼“å­˜å·²è·å–çš„è§†é¢‘æ•°æ®,é¿å…é‡å¤ä¸‹è½½:

- ç¼“å­˜ä½ç½®: `data/cache/`
- å¦‚éœ€é‡æ–°è·å–,ä½¿ç”¨ `--no-cache` å‚æ•°

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **é™åˆ¶è§†é¢‘æ•°é‡**: åœ¨ `config.yaml` ä¸­è®¾ç½® `youtube.max_videos`,ä¾‹å¦‚åªåˆ†ææœ€æ–°çš„ 20 ä¸ªè§†é¢‘
2. **ä½¿ç”¨è¾ƒå°çš„ Whisper æ¨¡å‹**: å¦‚æœåªæ˜¯çŸ­è§†é¢‘,`base` æ¨¡å‹å·²ç»è¶³å¤Ÿ
3. **ä½¿ç”¨ GPU**: å¦‚æœæœ‰ NVIDIA GPU,åœ¨ `config.yaml` ä¸­è®¾ç½® `whisper.device: "cuda"`

## ğŸ¯ åº”ç”¨åœºæ™¯

### 1. å†…å®¹åˆ›ä½œè€…

- åˆ†æç«äº‰å¯¹æ‰‹æˆ–æ ‡æ†é¢‘é“çš„å†…å®¹é£æ ¼
- å­¦ä¹ æˆåŠŸé¢‘é“çš„æ ‡é¢˜ã€ä¸»é¢˜ã€è¡¨è¾¾æ–¹å¼
- äº†è§£ç›®æ ‡å—ä¼—å–œæ¬¢ä»€ä¹ˆæ ·çš„å†…å®¹

### 2. å¸‚åœºç ”ç©¶

- åˆ†æç‰¹å®šé¢†åŸŸçš„å†…å®¹è¶‹åŠ¿
- äº†è§£æŸä¸ªç»†åˆ†å¸‚åœºçš„å†…å®¹ç‰¹ç‚¹
- å‘ç°å†…å®¹åˆ›ä½œçš„æœºä¼šç‚¹

### 3. å­¦ä¹ æ¨¡ä»¿

- ç³»ç»ŸåŒ–å­¦ä¹ ä¼˜ç§€é¢‘é“çš„åˆ›ä½œæŠ€å·§
- ç†è§£å¦‚ä½•æ„å»ºå¸å¼•äººçš„å†…å®¹
- å€Ÿé‰´æˆåŠŸçš„æ ‡é¢˜å’Œç»“æ„æ¨¡å¼

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæ¨¡å—

```
youtube_an/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ youtube_fetcher.py       # è§†é¢‘æ•°æ®è·å–
â”‚   â”œâ”€â”€ audio_transcriber.py     # éŸ³é¢‘è½¬å½•(Whisper)
â”‚   â”œâ”€â”€ content_analyzer.py      # å†…å®¹åˆ†æ(GPT/Claude)
â”‚   â”œâ”€â”€ style_summarizer.py      # é£æ ¼æ€»ç»“
â”‚   â””â”€â”€ knowledge_base_generator.py  # çŸ¥è¯†åº“ç”Ÿæˆ
â”œâ”€â”€ main.py                      # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.yaml                  # é…ç½®æ–‡ä»¶
â””â”€â”€ requirements.txt             # ä¾èµ–åŒ…åˆ—è¡¨
```

### æŠ€æœ¯æ ˆ

- **yt-dlp**: YouTube è§†é¢‘ä¸‹è½½å’Œå…ƒæ•°æ®æå–
- **OpenAI Whisper**: å…è´¹çš„éŸ³é¢‘è½¬æ–‡å­—(æœ¬åœ°è¿è¡Œ)
- **OpenAI GPT / Anthropic Claude**: AI å†…å®¹åˆ†æ
- **WordCloud**: è¯äº‘ç”Ÿæˆ
- **jieba**: ä¸­æ–‡åˆ†è¯

## â“ å¸¸è§é—®é¢˜

> ğŸ’¡ **é‡åˆ°é—®é¢˜?** æŸ¥çœ‹è¯¦ç»†çš„ [æ•…éšœæ’é™¤æŒ‡å—](TROUBLESHOOTING.md)

### Q: éœ€è¦ä»˜è´¹å—?

A: 
- **å®Œå…¨å…è´¹**: yt-dlp å’Œ Whisper éƒ½æ˜¯å¼€æºå…è´¹çš„
- **å¯é€‰ä»˜è´¹**: å¦‚æœä½¿ç”¨ OpenAI GPT æˆ– Claude è¿›è¡Œ AI åˆ†æ,éœ€è¦ API è´¹ç”¨
- **å…è´¹æ›¿ä»£**: ä¸é…ç½® API å¯†é’¥æ—¶,ç³»ç»Ÿä¼šä½¿ç”¨å…³é”®è¯åˆ†æ(å…è´¹ä½†åˆ†ææ·±åº¦æœ‰é™)

### Q: åˆ†æä¸€ä¸ªé¢‘é“éœ€è¦å¤šé•¿æ—¶é—´?

A:
- **è·å–æ•°æ®**: 1-5 åˆ†é’Ÿ(å–å†³äºè§†é¢‘æ•°é‡)
- **éŸ³é¢‘è½¬å½•**: æ¯ä¸ªè§†é¢‘çº¦ 1-3 åˆ†é’Ÿ(å–å†³äºæ—¶é•¿å’Œæ¨¡å‹å¤§å°)
- **AI åˆ†æ**: æ¯ä¸ªè§†é¢‘çº¦ 5-10 ç§’(ä½¿ç”¨ API)
- **æ€»è®¡**: 20 ä¸ªè§†é¢‘çº¦ 10-30 åˆ†é’Ÿ

### Q: å¦‚ä½•å‡å°‘ API è´¹ç”¨?

A:
1. é™åˆ¶åˆ†æçš„è§†é¢‘æ•°é‡(`config.yaml` ä¸­çš„ `max_videos`)
2. ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹(å¦‚ `gpt-3.5-turbo` è€Œä¸æ˜¯ `gpt-4`)
3. ä½¿ç”¨å…³é”®è¯åˆ†ææ¨¡å¼(ä¸è°ƒç”¨ API)

### Q: Whisper è½¬å½•å‡†ç¡®å—?

A:
- **ä¸­æ–‡**: `base` æ¨¡å‹å‡†ç¡®åº¦çº¦ 80-90%,`small` æ¨¡å‹çº¦ 90-95%
- **è‹±æ–‡**: å‡†ç¡®åº¦æ›´é«˜,`base` æ¨¡å‹çº¦ 90-95%
- **å»ºè®®**: å¯¹äºé‡è¦é¡¹ç›®,å¯ä½¿ç”¨ `small` æˆ– `medium` æ¨¡å‹

### Q: æ”¯æŒå“ªäº›è¯­è¨€?

A: 
- Whisper æ”¯æŒ 99 ç§è¯­è¨€
- å¯åœ¨ `config.yaml` ä¸­è®¾ç½® `whisper.language`
- è®¾ç½®ä¸º `auto` å¯è‡ªåŠ¨æ£€æµ‹è¯­è¨€

### Q: é‡åˆ° HTTP 403 é”™è¯¯æ€ä¹ˆåŠ?

A: HTTP 403 æ˜¯æœ€å¸¸è§çš„é—®é¢˜,é€šå¸¸æ˜¯å› ä¸º YouTube çš„åçˆ¬è™«æœºåˆ¶ã€‚

**å¿«é€Ÿè§£å†³**:
```bash
# 1. æ›´æ–° yt-dlp åˆ°æœ€æ–°ç‰ˆ(æœ€é‡è¦!)
pip install --upgrade yt-dlp

# 2. é‡æ–°è¿è¡Œ
python main.py -c "é¢‘é“URL"
```

æ›´å¤šè§£å†³æ–¹æ¡ˆè¯·æŸ¥çœ‹ [æ•…éšœæ’é™¤æŒ‡å—](TROUBLESHOOTING.md#http-403-é”™è¯¯)

### Q: é‡åˆ°å…¶ä»–é”™è¯¯æ€ä¹ˆåŠ?

A:
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶: `logs/youtube_analyzer.log`
2. ä½¿ç”¨ `--log-level DEBUG` è·å–è¯¦ç»†æ—¥å¿—
3. æŸ¥çœ‹ [æ•…éšœæ’é™¤æŒ‡å—](TROUBLESHOOTING.md)
4. è¿è¡Œ `python test_setup.py` æ£€æŸ¥ç¯å¢ƒ
5. ç¡®ä¿ Python ç‰ˆæœ¬ >= 3.8

## ğŸ“ é…ç½®æ–‡ä»¶è¯¦è§£

### config.yaml ä¸»è¦é…ç½®é¡¹

```yaml
# API é…ç½®
api:
  openai:
    api_key: ""           # OpenAI API å¯†é’¥
    model: "gpt-3.5-turbo"  # ä½¿ç”¨çš„æ¨¡å‹

# Whisper é…ç½®
whisper:
  model: "base"          # æ¨¡å‹å¤§å°: tiny/base/small/medium/large
  language: "zh"         # è¯­è¨€: zh(ä¸­æ–‡)/en(è‹±æ–‡)/auto(è‡ªåŠ¨)
  device: "cpu"          # è®¾å¤‡: cpu æˆ– cuda

# YouTube é…ç½®
youtube:
  max_videos: 50         # æœ€å¤šåˆ†æè§†é¢‘æ•°(0=ä¸é™åˆ¶)
  subtitle_languages: ["zh-Hans", "zh", "en"]  # å­—å¹•è¯­è¨€ä¼˜å…ˆçº§

# åˆ†æé…ç½®
analysis:
  use_ai: true          # æ˜¯å¦ä½¿ç”¨ AI(false åˆ™ç”¨å…³é”®è¯)
  ai_provider: "openai"  # AI æä¾›å•†: openai/anthropic
  min_subtitle_length: 50  # æœ€å°‘å­—å¹•é•¿åº¦

# çŸ¥è¯†åº“é…ç½®
knowledge_base:
  generate_wordcloud: true  # æ˜¯å¦ç”Ÿæˆè¯äº‘
  include_video_details: true  # æ˜¯å¦åŒ…å«è§†é¢‘è¯¦æƒ…

# ç³»ç»Ÿé…ç½®
system:
  cache_enabled: true    # æ˜¯å¦å¯ç”¨ç¼“å­˜
  log_level: "INFO"      # æ—¥å¿—çº§åˆ«
  max_workers: 3         # å¹¶å‘çº¿ç¨‹æ•°
```

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-29)

- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… æ”¯æŒ YouTube é¢‘é“è§†é¢‘è·å–
- âœ… æ”¯æŒå­—å¹•ä¸‹è½½å’ŒéŸ³é¢‘è½¬å½•
- âœ… æ”¯æŒ AI å†…å®¹åˆ†æ
- âœ… æ”¯æŒé£æ ¼æ€»ç»“å’ŒçŸ¥è¯†åº“ç”Ÿæˆ
- âœ… å®Œæ•´çš„æ–‡æ¡£å’Œé…ç½®

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ’¡ æç¤º

- é¦–æ¬¡ä½¿ç”¨ Whisper æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶(çº¦ 100MB-3GB,å–å†³äºæ¨¡å‹å¤§å°)
- å»ºè®®åœ¨ç¨³å®šçš„ç½‘ç»œç¯å¢ƒä¸‹è¿è¡Œ
- åˆ†æå¤§å‹é¢‘é“æ—¶å»ºè®®åˆ†æ‰¹å¤„ç†(è®¾ç½® `max_videos`)
- ç”Ÿæˆçš„çŸ¥è¯†åº“å¯ä»¥ç”¨ä»»ä½• Markdown é˜…è¯»å™¨æŸ¥çœ‹

## ğŸ‰ å¼€å§‹ä½¿ç”¨

```bash
# å¿«é€Ÿå¼€å§‹
python main.py -c "https://www.youtube.com/@your_favorite_channel"
```

ç¥ä½ ä½¿ç”¨æ„‰å¿«!å¦‚æœ‰é—®é¢˜,è¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æˆ–æäº¤ Issueã€‚

